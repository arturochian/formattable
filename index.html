<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>formattable by renkun-ken</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">formattable</h1>
      <h2 class="project-tagline">Formatted Printing of Data</h2>
      <a href="https://github.com/renkun-ken/formattable" class="btn">View on GitHub</a>
      <a href="https://github.com/renkun-ken/formattable/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/renkun-ken/formattable/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="formattable" class="anchor" href="#formattable" aria-hidden="true"><span class="octicon octicon-link"></span></a>formattable</h1>

<p><a href="https://travis-ci.org/renkun-ken/formattable"><img src="https://travis-ci.org/renkun-ken/formattable.png?branch=master" alt="Travis-CI Build Status"></a> <a href="https://coveralls.io/r/renkun-ken/formattable"><img src="https://coveralls.io/repos/renkun-ken/formattable/badge.svg" alt="Coverage Status"></a> <a href="http://issuestats.com/github/renkun-ken/formattable"><img src="http://issuestats.com/github/renkun-ken/formattable/badge/issue?style=flat" alt="Issue Stats"></a> <a href="http://issuestats.com/github/renkun-ken/formattable"><img src="http://issuestats.com/github/renkun-ken/formattable/badge/pr?style=flat" alt="Issue Stats"></a></p>

<p>In a typical workflow of dynamic document production, <a href="https://github.com/yihui/knitr">knitr</a> and <a href="http://rmarkdown.rstudio.com/">rmarkdown</a> are powerful tools to render documents with R code to different types of portable documents.</p>

<p>knitr is able to render an RMarkdown document (markdown document with R code chunks) to Markdown document. rmarkdown calls <a href="http://johnmacfarlane.net/pandoc">pandoc</a> to render a markdown document to HTML web page. To put a table (<code>data.frame</code> in R) on the page, one may call <code>knitr:kable</code> to produce its markdown representation. By default the resulted table is in a plain theme with no additional formatting. However, in some cases, additional formatting may help clarify the information and make contrast of the data. This package provides functions to produce formatted tables in dynamic documents.</p>

<p><strong>This package is still on an initial stage. The APIs may change without notice.</strong></p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p>Currently, the package is only available on GitHub.</p>

<div class="highlight highlight-r"><pre><span class="pl-c"># install.packages("devtools")</span>
<span class="pl-e">devtools</span><span class="pl-k">::</span>install_github(<span class="pl-s"><span class="pl-pds">"</span>renkun-ken/formattable<span class="pl-pds">"</span></span>)</pre></div>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>

<div class="highlight highlight-r"><pre><span class="pl-smi">df</span> <span class="pl-k">&lt;-</span> <span class="pl-k">data.frame</span>(
  <span class="pl-v">id</span> <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">10</span>,
  <span class="pl-v">name</span> <span class="pl-k">=</span> c(<span class="pl-s"><span class="pl-pds">"</span>Bob<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Ashley<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>James<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>David<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Jenny<span class="pl-pds">"</span></span>, 
    <span class="pl-s"><span class="pl-pds">"</span>Hans<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Leo<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>John<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Emily<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Lee<span class="pl-pds">"</span></span>), 
  <span class="pl-v">age</span> <span class="pl-k">=</span> c(<span class="pl-c1">28</span>, <span class="pl-c1">27</span>, <span class="pl-c1">30</span>, <span class="pl-c1">28</span>, <span class="pl-c1">29</span>, <span class="pl-c1">29</span>, <span class="pl-c1">27</span>, <span class="pl-c1">27</span>, <span class="pl-c1">31</span>, <span class="pl-c1">30</span>),
  <span class="pl-v">grade</span> <span class="pl-k">=</span> c(<span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>),
  <span class="pl-v">test1_score</span> <span class="pl-k">=</span> c(<span class="pl-c1">8.9</span>, <span class="pl-c1">9.5</span>, <span class="pl-c1">9.6</span>, <span class="pl-c1">8.9</span>, <span class="pl-c1">9.1</span>, <span class="pl-c1">9.3</span>, <span class="pl-c1">9.3</span>, <span class="pl-c1">9.9</span>, <span class="pl-c1">8.5</span>, <span class="pl-c1">8.6</span>),
  <span class="pl-v">test2_score</span> <span class="pl-k">=</span> c(<span class="pl-c1">9.1</span>, <span class="pl-c1">9.1</span>, <span class="pl-c1">9.2</span>, <span class="pl-c1">9.1</span>, <span class="pl-c1">8.9</span>, <span class="pl-c1">8.5</span>, <span class="pl-c1">9.2</span>, <span class="pl-c1">9.3</span>, <span class="pl-c1">9.1</span>, <span class="pl-c1">8.8</span>),
  <span class="pl-v">final_score</span> <span class="pl-k">=</span> c(<span class="pl-c1">9</span>, <span class="pl-c1">9.3</span>, <span class="pl-c1">9.4</span>, <span class="pl-c1">9</span>, <span class="pl-c1">9</span>, <span class="pl-c1">8.9</span>, <span class="pl-c1">9.25</span>, <span class="pl-c1">9.6</span>, <span class="pl-c1">8.8</span>, <span class="pl-c1">8.7</span>),
  <span class="pl-v">registered</span> <span class="pl-k">=</span> c(<span class="pl-c1">TRUE</span>, <span class="pl-c1">FALSE</span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">FALSE</span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">TRUE</span>, <span class="pl-c1">FALSE</span>, <span class="pl-c1">FALSE</span>, <span class="pl-c1">FALSE</span>),
  <span class="pl-v">stringsAsFactors</span> <span class="pl-k">=</span> <span class="pl-c1">FALSE</span>)</pre></div>

<p>Plain table:</p>

<table>
<thead>
<tr>
<th align="right">id</th>
<th align="left">name</th>
<th align="right">age</th>
<th align="left">grade</th>
<th align="right">test1_score</th>
<th align="right">test2_score</th>
<th align="right">final_score</th>
<th align="left">registered</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">1</td>
<td align="left">Bob</td>
<td align="right">28</td>
<td align="left">C</td>
<td align="right">8.9</td>
<td align="right">9.1</td>
<td align="right">9.00</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">2</td>
<td align="left">Ashley</td>
<td align="right">27</td>
<td align="left">A</td>
<td align="right">9.5</td>
<td align="right">9.1</td>
<td align="right">9.30</td>
<td align="left">FALSE</td>
</tr>
<tr>
<td align="right">3</td>
<td align="left">James</td>
<td align="right">30</td>
<td align="left">A</td>
<td align="right">9.6</td>
<td align="right">9.2</td>
<td align="right">9.40</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">4</td>
<td align="left">David</td>
<td align="right">28</td>
<td align="left">C</td>
<td align="right">8.9</td>
<td align="right">9.1</td>
<td align="right">9.00</td>
<td align="left">FALSE</td>
</tr>
<tr>
<td align="right">5</td>
<td align="left">Jenny</td>
<td align="right">29</td>
<td align="left">B</td>
<td align="right">9.1</td>
<td align="right">8.9</td>
<td align="right">9.00</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">6</td>
<td align="left">Hans</td>
<td align="right">29</td>
<td align="left">B</td>
<td align="right">9.3</td>
<td align="right">8.5</td>
<td align="right">8.90</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">7</td>
<td align="left">Leo</td>
<td align="right">27</td>
<td align="left">B</td>
<td align="right">9.3</td>
<td align="right">9.2</td>
<td align="right">9.25</td>
<td align="left">TRUE</td>
</tr>
<tr>
<td align="right">8</td>
<td align="left">John</td>
<td align="right">27</td>
<td align="left">A</td>
<td align="right">9.9</td>
<td align="right">9.3</td>
<td align="right">9.60</td>
<td align="left">FALSE</td>
</tr>
<tr>
<td align="right">9</td>
<td align="left">Emily</td>
<td align="right">31</td>
<td align="left">C</td>
<td align="right">8.5</td>
<td align="right">9.1</td>
<td align="right">8.80</td>
<td align="left">FALSE</td>
</tr>
<tr>
<td align="right">10</td>
<td align="left">Lee</td>
<td align="right">30</td>
<td align="left">C</td>
<td align="right">8.6</td>
<td align="right">8.8</td>
<td align="right">8.70</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>

<p>Formatted table with the following visualizations:</p>

<ul>
<li>All A grades are displayed in green bold.</li>
<li>
<code>test1_score</code> and <code>test2_score</code> are background-colorized: orange (low score) to green (high score)</li>
<li>
<code>final_score</code> shows score and ranking. Top 3 are green, and others are gray.</li>
<li>
<code>registered</code> texts are transformed to yes/no.</li>
</ul>

<div class="highlight highlight-r"><pre>library(<span class="pl-smi">formattable</span>)
<span class="pl-smi">score_colorizer</span> <span class="pl-k">&lt;-</span> formatter(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>, 
  <span class="pl-v">style</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">x</span>) style(
    <span class="pl-v">display</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>block<span class="pl-pds">"</span></span>, 
    <span class="pl-v">color</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>white<span class="pl-pds">"</span></span>, 
    <span class="pl-s"><span class="pl-pds">"</span>border-radius<span class="pl-pds">"</span></span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>4px<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>padding-right<span class="pl-pds">"</span></span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>4px<span class="pl-pds">"</span></span>,
    <span class="pl-v">background</span> <span class="pl-k">=</span> rgb(<span class="pl-c1">0.2</span> <span class="pl-k">+</span> <span class="pl-c1">0.8</span> <span class="pl-k">*</span> rank(<span class="pl-k">-</span><span class="pl-smi">x</span>) <span class="pl-k">/</span> length(<span class="pl-smi">x</span>), <span class="pl-c1">0.6</span>, <span class="pl-c1">0</span>)))

formattable(<span class="pl-smi">df</span>, <span class="pl-k">list</span>(
  <span class="pl-v">grade</span> <span class="pl-k">=</span> formatter(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>,
    <span class="pl-v">style</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">x</span>) 
      ifelse(<span class="pl-smi">x</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, style(<span class="pl-v">color</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>font-weight<span class="pl-pds">"</span></span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>bold<span class="pl-pds">"</span></span>), <span class="pl-c1">NA</span>)),
  <span class="pl-v">test1_score</span> <span class="pl-k">=</span> <span class="pl-smi">score_colorizer</span>,
  <span class="pl-v">test2_score</span> <span class="pl-k">=</span> <span class="pl-smi">score_colorizer</span>,
  <span class="pl-v">final_score</span> <span class="pl-k">=</span> formatter(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>,
    <span class="pl-v">style</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">x</span>) style(<span class="pl-v">color</span> <span class="pl-k">=</span> ifelse(rank(<span class="pl-k">-</span><span class="pl-smi">x</span>) <span class="pl-k">&lt;</span><span class="pl-k">=</span> <span class="pl-c1">3</span>, <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>gray<span class="pl-pds">"</span></span>)),
    <span class="pl-k">function</span>(<span class="pl-smi">x</span>) sprintf(<span class="pl-s"><span class="pl-pds">"</span>%.2f (rank: %02d)<span class="pl-pds">"</span></span>, <span class="pl-smi">x</span>, rank(<span class="pl-k">-</span><span class="pl-smi">x</span>))),
  <span class="pl-v">registered</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">x</span>) ifelse(<span class="pl-smi">x</span>, <span class="pl-s"><span class="pl-pds">"</span>yes<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>no<span class="pl-pds">"</span></span>)
))</pre></div>

<table>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="right">name</th>
<th align="right">age</th>
<th align="right">grade</th>
<th align="right">test1_score</th>
<th align="right">test2_score</th>
<th align="right">final_score</th>
<th align="right">registered</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">Bob</td>
<td align="right">28</td>
<td align="right"><span>C</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #CC9900">8.9</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #A39900">9.1</span></td>
<td align="right"><span style="color: gray">9.00 (rank: 06)</span></td>
<td align="right">yes</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">Ashley</td>
<td align="right">27</td>
<td align="right"><span style="color: green; font-weight: bold">A</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #709900">9.5</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #A39900">9.1</span></td>
<td align="right"><span style="color: green">9.30 (rank: 03)</span></td>
<td align="right">no</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">James</td>
<td align="right">30</td>
<td align="right"><span style="color: green; font-weight: bold">A</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #5C9900">9.6</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #669900">9.2</span></td>
<td align="right"><span style="color: green">9.40 (rank: 02)</span></td>
<td align="right">yes</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">David</td>
<td align="right">28</td>
<td align="right"><span>C</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #CC9900">8.9</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #A39900">9.1</span></td>
<td align="right"><span style="color: gray">9.00 (rank: 06)</span></td>
<td align="right">no</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">Jenny</td>
<td align="right">29</td>
<td align="right"><span>B</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #AD9900">9.1</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #D69900">8.9</span></td>
<td align="right"><span style="color: gray">9.00 (rank: 06)</span></td>
<td align="right">yes</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">Hans</td>
<td align="right">29</td>
<td align="right"><span>B</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #8F9900">9.3</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #FF9900">8.5</span></td>
<td align="right"><span style="color: gray">8.90 (rank: 08)</span></td>
<td align="right">yes</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">Leo</td>
<td align="right">27</td>
<td align="right"><span>B</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #8F9900">9.3</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #669900">9.2</span></td>
<td align="right"><span style="color: gray">9.25 (rank: 04)</span></td>
<td align="right">yes</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">John</td>
<td align="right">27</td>
<td align="right"><span style="color: green; font-weight: bold">A</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #479900">9.9</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #479900">9.3</span></td>
<td align="right"><span style="color: green">9.60 (rank: 01)</span></td>
<td align="right">no</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">Emily</td>
<td align="right">31</td>
<td align="right"><span>C</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #FF9900">8.5</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #A39900">9.1</span></td>
<td align="right"><span style="color: gray">8.80 (rank: 09)</span></td>
<td align="right">no</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">Lee</td>
<td align="right">30</td>
<td align="right"><span>C</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #EB9900">8.6</span></td>
<td align="right"><span style="display: block; color: white; border-radius: 4px; padding-right: 4px; background: #EB9900">8.8</span></td>
<td align="right"><span style="color: gray">8.70 (rank: 10)</span></td>
<td align="right">no</td>
</tr>
</tbody>
</table>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>This package is under <a href="http://opensource.org/licenses/MIT">MIT License</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/renkun-ken/formattable">formattable</a> is maintained by <a href="https://github.com/renkun-ken">renkun-ken</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47159422-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

